# FORGE Claude Code Plugin Setup

This document explains how to use FORGE as a Claude Code plugin.

## What is a Claude Code Plugin?

Claude Code plugins are collections of:
- **Slash commands** - Custom commands like `/forge-cycle`
- **Agents** - Specialized subagents for specific tasks
- **MCP servers** - Tools and data sources via Model Context Protocol
- **Hooks** - Custom workflow automations

FORGE is now available as a complete Claude Code plugin!

## Installation

### Option 1: From Marketplace (Recommended)

Once you've pushed the plugin to GitHub:

```bash
# In Claude Code (terminal or VS Code)
/plugin marketplace add scottfeltham/forge-mcp
/plugin install forge
```

### Option 2: Local Development

For testing the plugin locally before publishing:

```bash
# In Claude Code
/plugin add /path/to/forge-mcp
```

## What Gets Installed

When you install the FORGE plugin, you get:

### ğŸ”§ MCP Server
- **forge** server providing all FORGE tools
- Automatic standards detection
- Conversational PRD building
- Phase validation and enforcement

### ğŸ’¬ Slash Commands
- `/forge-init` - Initialize FORGE in your project
- `/forge-cycle` - Create development cycle (conversational)
- `/forge-status` - View cycle status and progress
- `/forge-checkpoint` - Validate phase compliance
- `/forge-advance` - Advance to next phase

### ğŸ¤– Specialized Agents
- **ğŸŸ¦ Architect** - System design and architecture
- **ğŸŸ¨ Developer** - Code implementation and TDD
- **ğŸŸª Tester** - Test strategy and QA
- **ğŸŸ© DevOps** - Infrastructure and CI/CD
- **ğŸŸ¥ Security** - Security analysis and threats
- **ğŸŸ« Documentation** - Technical writing
- **ğŸŸ§ Reviewer** - Code review and quality

### ğŸª Hooks
- **pre-commit** - Validates FORGE workflow compliance before commits

## Quick Start

### 1. Install the Plugin

```bash
/plugin marketplace add scottfeltham/forge-mcp
/plugin install forge
```

### 2. Initialize in Your Project

```bash
cd /path/to/your/project
/forge-init
```

This creates:
- `.forge/` directory structure
- Project configuration with detected standards
- Documentation structure (docs/prd, docs/architecture, etc.)

### 3. Create Your First Cycle

```bash
/forge-cycle
```

FORGE will engage in a conversation to build a comprehensive PRD:
- Feature overview and goals
- Detailed requirements
- Technical considerations
- Security needs
- Success criteria

### 4. Work Through the Phases

```bash
# Check status
/forge-status

# Validate readiness
/forge-checkpoint <cycle-id>

# Advance when ready
/forge-advance <cycle-id>
```

## Plugin Features

### Conversational PRD Building

The plugin enables interactive requirement gathering:

```
You: /forge-cycle "user authentication"

Claude: Let me help you build comprehensive requirements...

ğŸ“‹ Let's Build a Comprehensive PRD Together

**Feature**: user authentication
**Priority**: medium

**Let me help you build complete requirements. Please provide:**

1. Feature Overview & Goals
   â€¢ What problem does this solve?
   â€¢ Who are the users/stakeholders?
   ...
```

### Automatic Agent Recommendations

Each phase automatically recommends appropriate agents:

```
ğŸ“‹ IMMEDIATE NEXT ACTIONS (Focus Phase):
1. ğŸ—ï¸ Architect Agent: Design system architecture
2. ğŸ”’ Security Agent: Identify security requirements
3. ğŸ“š Documentation Agent: Update PRD and requirements
```

### Phase Validation

Quality gates prevent advancing with incomplete work:

```
ğŸš« FORGE FRAMEWORK ENFORCEMENT

Cannot advance from **Focus** phase:

**ğŸ›‘ BLOCKING ISSUES:**
â€¢ Test scenarios must be completed before advancing
â€¢ Architecture design must be completed

**ğŸ”§ OPTIONS:**
â€¢ Complete the required actions above
â€¢ Use --skip-validation to override (not recommended)
```

## Plugin Configuration

Customize plugin behavior via Claude Code settings:

```json
{
  "plugins": {
    "forge": {
      "enforcePhaseValidation": true,
      "autoGenerateDocs": true,
      "conversationalPRD": true
    }
  }
}
```

### Configuration Options

- **enforcePhaseValidation** (default: true) - Require phase validation before advancing
- **autoGenerateDocs** (default: true) - Automatically generate PRD and test documentation
- **conversationalPRD** (default: true) - Enable interactive PRD building for new cycles

## Plugin Commands

### Management Commands

```bash
# List installed plugins
/plugin list

# Show plugin details
/plugin info forge

# Enable/disable plugin
/plugin enable forge
/plugin disable forge

# Update plugin
/plugin update forge

# Remove plugin
/plugin remove forge
```

### FORGE Commands

All FORGE slash commands are documented in `.claude-plugin/commands/`:
- `forge-init.md` - Initialization guide
- `forge-cycle.md` - Cycle creation guide
- `forge-status.md` - Status checking guide
- `forge-checkpoint.md` - Validation guide
- `forge-advance.md` - Phase advancement guide

## Publishing Your Plugin

To make the FORGE plugin available in your marketplace:

### 1. Ensure Plugin Structure

```
.claude-plugin/
â”œâ”€â”€ plugin.json              # Plugin manifest
â”œâ”€â”€ marketplace.json         # Marketplace configuration
â”œâ”€â”€ README.md               # Plugin documentation
â”œâ”€â”€ commands/               # Slash command definitions
â”‚   â”œâ”€â”€ forge-init.md
â”‚   â”œâ”€â”€ forge-cycle.md
â”‚   â”œâ”€â”€ forge-status.md
â”‚   â”œâ”€â”€ forge-checkpoint.md
â”‚   â””â”€â”€ forge-advance.md
â”œâ”€â”€ agents/                 # Agent definitions
â”‚   â”œâ”€â”€ architect.md
â”‚   â”œâ”€â”€ developer.md
â”‚   â”œâ”€â”€ tester.md
â”‚   â”œâ”€â”€ devops.md
â”‚   â”œâ”€â”€ security.md
â”‚   â”œâ”€â”€ documentation.md
â”‚   â””â”€â”€ reviewer.md
â””â”€â”€ hooks/                  # Workflow hooks
    â””â”€â”€ pre-commit.sh
```

### 2. Commit and Push

```bash
git add .claude-plugin/
git commit -m "feat: Add Claude Code plugin support"
git push origin main
```

### 3. Share with Users

Users can now install with:

```bash
/plugin marketplace add scottfeltham/forge-mcp
/plugin install forge
```

## Benefits of Plugin Distribution

### For Users
- âœ… **One-command installation** - No manual MCP configuration
- âœ… **Bundled agents** - All 7 specialists included
- âœ… **Slash commands** - Easy access to FORGE features
- âœ… **Automatic updates** - Stay current with latest features
- âœ… **Easy discovery** - Find and install from marketplace

### For Project Teams
- âœ… **Team-wide consistency** - Everyone uses same workflow
- âœ… **Onboarding simplified** - New developers install one plugin
- âœ… **Custom standards** - Enforce your team's practices
- âœ… **Shareable configs** - Distribute team-specific settings

### For FORGE Adoption
- âœ… **Lower barrier to entry** - Simpler than manual MCP setup
- âœ… **Better discoverability** - Marketplace visibility
- âœ… **Easier updates** - Users stay on latest version
- âœ… **Unified experience** - Consistent across terminal and VS Code

## Troubleshooting

### Plugin Not Loading

```bash
# Check if installed
/plugin list

# Reload plugin
/plugin reload forge

# Check logs
# Look for errors in Claude Code output
```

### MCP Server Connection Issues

```bash
# Verify Node.js version
node --version  # Should be 18+

# Test server directly
node server.js --stdio

# Check server.js is executable
chmod +x server.js
```

### Commands Not Working

```bash
# Verify FORGE is initialized
ls .forge/

# Check active cycles
/forge-status

# Restart Claude Code
# Sometimes needed after plugin installation
```

## Migration from Manual MCP Setup

If you were using FORGE via manual MCP configuration:

### 1. Remove Manual Configuration

Edit your Claude Code settings and remove:

```json
{
  "mcpServers": {
    "forge": {
      // Remove this block
    }
  }
}
```

### 2. Install Plugin

```bash
/plugin marketplace add scottfeltham/forge-mcp
/plugin install forge
```

### 3. Verify

```bash
/plugin list  # Should show "forge"
/forge-status  # Should work as before
```

Your existing `.forge/` directories and cycles are preserved!

## Advanced Usage

### Custom Marketplace

Create your own FORGE marketplace for your team:

1. Fork `forge-mcp` repository
2. Customize agents and commands for your team
3. Create `your-org/forge-custom` repository
4. Add marketplace.json
5. Share with team:

```bash
/plugin marketplace add your-org/forge-custom
/plugin install forge
```

### Plugin Development

To modify the plugin locally:

1. Clone the repository
2. Edit files in `.claude-plugin/`
3. Test locally: `/plugin add /path/to/forge-mcp`
4. Iterate and refine
5. Push changes
6. Users update: `/plugin update forge`

## Resources

- **Plugin README**: `.claude-plugin/README.md`
- **Marketplace Config**: `.claude-plugin/marketplace.json`
- **Command Docs**: `.claude-plugin/commands/*.md`
- **Agent Definitions**: `.claude-plugin/agents/*.md`
- **Main README**: `README.md`
- **Conversational PRD**: `docs/conversational-prd-workflow.md`

## Support

- **Issues**: https://github.com/scottfeltham/forge-mcp-server/issues
- **Discussions**: https://github.com/scottfeltham/forge-mcp-server/discussions
- **Documentation**: https://github.com/scottfeltham/forge-mcp-server#readme

---

**FORGE is now easier than ever to install and use!** ğŸš€

Simply run `/plugin install forge` and start building better software with structured AI-native development.
